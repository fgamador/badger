<h1><%= @rank.name %> Rank</h1>

<table class="detail">
  <tr>
    <th>Scouts:</th>
    <td><%= @rank.num_active_scouts %></td>
  <% if admin? %>
    <th>Ordinal:</th>
    <td><%= @rank.ordinal %></td>
  <% end %>
    <th>Merit badges:</th>
    <td><%= @rank.num_merit_badges %></td>
    <th>Eagle-required badges:</th>
    <td><%= @rank.num_eagle_required %></td>
  <% if admin? %>
    <td class="actions"><%= link_to 'Edit', edit_rank_path(@rank) %></td>
    <% if @rank.unused? %>
      <%= link_to 'Delete', @rank,
        :confirm => "Delete unused #{@rank.name} rank?", :method => :delete %>
    <% end %>
  <% end %>
  </tr>
</table>

<table class="listing vsep">
  <tr>
    <th>Scout</th>
    <th>Earned</th>
    <% toggle_show_inactive_td %>
  </tr>
<% srs = show_inactive? ? @rank.scout_ranks : @rank.active_scout_ranks %>
<% srs.sort {|sr1,sr2| sr1.scout <=> sr2.scout }.each do |sr| %>
  <tr>
    <td><%= link_to sr.scout.name, sr.scout %></td>
    <td><%= sr.earned %></td>
  </tr>
<% end %>
</table>

